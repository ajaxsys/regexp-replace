CodeMirror.defineMode("javascript",function(a,b){function g(a,b,c){b.tokenize=c;return c(a,b)}function h(a,b){var c=false,d;while((d=a.next())!=null){if(d==b&&!c)return false;c=!c&&d=="\\"}return c}function k(a,b,c){i=a;j=c;return b}function l(a,b){var c=a.next();if(c=='"'||c=="'")return g(a,b,m(c));else if(/[\[\]{}\(\),;\:\.]/.test(c))return k(c);else if(c=="0"&&a.eat(/x/i)){a.eatWhile(/[\da-f]/i);return k("number","number")}else if(/\d/.test(c)||c=="-"&&a.eat(/\d/)){a.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return k("number","number")}else if(c=="/"){if(a.eat("*")){return g(a,b,n)}else if(a.eat("/")){a.skipToEnd();return k("comment","comment")}else if(b.reAllowed){h(a,"/");a.eatWhile(/[gimy]/);return k("regexp","string-2")}else{a.eatWhile(f);return k("operator",null,a.current())}}else if(c=="#"){a.skipToEnd();return k("error","error")}else if(f.test(c)){a.eatWhile(f);return k("operator",null,a.current())}else{a.eatWhile(/[\w\$_]/);var d=a.current(),i=e.propertyIsEnumerable(d)&&e[d];return i&&b.kwAllowed?k(i.type,i.style,d):k("variable","variable",d)}}function m(a){return function(b,c){if(!h(b,a))c.tokenize=l;return k("string","string")}}function n(a,b){var c=false,d;while(d=a.next()){if(d=="/"&&c){b.tokenize=l;break}c=d=="*"}return k("comment","comment")}function p(a,b,c,d,e,f){this.indented=a;this.column=b;this.type=c;this.prev=e;this.info=f;if(d!=null)this.align=d}function q(a,b){for(var c=a.localVars;c;c=c.next)if(c.name==b)return true}function r(a,b,c,e,f){var g=a.cc;s.state=a;s.stream=f;s.marked=null,s.cc=g;if(!a.lexical.hasOwnProperty("align"))a.lexical.align=true;while(true){var h=g.length?g.pop():d?D:C;if(h(c,e)){while(g.length&&g[g.length-1].lex)g.pop()();if(s.marked)return s.marked;if(c=="variable"&&q(a,e))return"variable-2";return b}}}function t(){for(var a=arguments.length-1;a>=0;a--)s.cc.push(arguments[a])}function u(){t.apply(null,arguments);return true}function v(a){var b=s.state;if(b.context){s.marked="def";for(var c=b.localVars;c;c=c.next)if(c.name==a)return;b.localVars={name:a,next:b.localVars}}}function x(){s.state.context={prev:s.state.context,vars:s.state.localVars};s.state.localVars=w}function y(){s.state.localVars=s.state.context.vars;s.state.context=s.state.context.prev}function z(a,b){var c=function(){var c=s.state;c.lexical=new p(c.indented,s.stream.column(),a,null,c.lexical,b)};c.lex=true;return c}function A(){var a=s.state;if(a.lexical.prev){if(a.lexical.type==")")a.indented=a.lexical.indented;a.lexical=a.lexical.prev}}function B(a){return function(c){if(c==a)return u();else if(a==";")return t();else return u(arguments.callee)}}function C(a){if(a=="var")return u(z("vardef"),L,B(";"),A);if(a=="keyword a")return u(z("form"),D,C,A);if(a=="keyword b")return u(z("form"),C,A);if(a=="{")return u(z("}"),K,A);if(a==";")return u();if(a=="function")return u(R);if(a=="for")return u(z("form"),B("("),z(")"),N,B(")"),A,C,A);if(a=="variable")return u(z("stat"),G);if(a=="switch")return u(z("form"),D,z("}","switch"),B("{"),K,A,A);if(a=="case")return u(D,B(":"));if(a=="default")return u(B(":"));if(a=="catch")return u(z("form"),x,B("("),S,B(")"),C,A,y);return t(z("stat"),D,B(";"),A)}function D(a){if(o.hasOwnProperty(a))return u(F);if(a=="function")return u(R);if(a=="keyword c")return u(E);if(a=="(")return u(z(")"),E,B(")"),A,F);if(a=="operator")return u(D);if(a=="[")return u(z("]"),J(D,"]"),A,F);if(a=="{")return u(z("}"),J(I,"}"),A,F);return u()}function E(a){if(a.match(/[;\}\)\],]/))return t();return t(D)}function F(a,b){if(a=="operator"&&/\+\+|--/.test(b))return u(F);if(a=="operator"&&b=="?")return u(D,B(":"),D);if(a==";")return;if(a=="(")return u(z(")"),J(D,")"),A,F);if(a==".")return u(H,F);if(a=="[")return u(z("]"),D,B("]"),A,F)}function G(a){if(a==":")return u(A,C);return t(F,B(";"),A)}function H(a){if(a=="variable"){s.marked="property";return u()}}function I(a){if(a=="variable")s.marked="property";if(o.hasOwnProperty(a))return u(B(":"),D)}function J(a,b){function c(d){if(d==",")return u(a,c);if(d==b)return u();return u(B(b))}return function(e){if(e==b)return u();else return t(a,c)}}function K(a){if(a=="}")return u();return t(C,K)}function L(a,b){if(a=="variable"){v(b);return u(M)}return u()}function M(a,b){if(b=="=")return u(D,M);if(a==",")return u(L)}function N(a){if(a=="var")return u(L,P);if(a==";")return t(P);if(a=="variable")return u(O);return t(P)}function O(a,b){if(b=="in")return u(D);return u(F,P)}function P(a,b){if(a==";")return u(Q);if(b=="in")return u(D);return u(D,B(";"),Q)}function Q(a){if(a!=")")u(D)}function R(a,b){if(a=="variable"){v(b);return u(R)}if(a=="(")return u(z(")"),x,J(S,")"),A,C,y)}function S(a,b){if(a=="variable"){v(b);return u()}}var c=a.indentUnit;var d=b.json;var e=function(){function a(a){return{type:a,style:"keyword"}}var b=a("keyword a"),c=a("keyword b"),d=a("keyword c");var e=a("operator"),f={type:"atom",style:"atom"};return{"if":b,"while":b,"with":b,"else":c,"do":c,"try":c,"finally":c,"return":d,"break":d,"continue":d,"new":d,"delete":d,"throw":d,"var":a("var"),"const":a("var"),let:a("var"),"function":a("function"),"catch":a("catch"),"for":a("for"),"switch":a("switch"),"case":a("case"),"default":a("default"),"in":e,"typeof":e,"instanceof":e,"true":f,"false":f,"null":f,"undefined":f,NaN:f,Infinity:f}}();var f=/[+\-*&%=<>!?|]/;var i,j;var o={atom:true,number:true,variable:true,string:true,regexp:true};var s={state:null,column:null,marked:null,cc:null};var w={name:"this",next:{name:"arguments"}};A.lex=true;return{startState:function(a){return{tokenize:l,reAllowed:true,kwAllowed:true,cc:[],lexical:new p((a||0)-c,0,"block",false),localVars:b.localVars,context:b.localVars&&{vars:b.localVars},indented:0}},token:function(a,b){if(a.sol()){if(!b.lexical.hasOwnProperty("align"))b.lexical.align=false;b.indented=a.indentation()}if(a.eatSpace())return null;var c=b.tokenize(a,b);if(i=="comment")return c;b.reAllowed=!!(i=="operator"||i=="keyword c"||i.match(/^[\[{}\(,;:]$/));b.kwAllowed=i!=".";return r(b,c,i,j,a)},indent:function(a,b){if(a.tokenize!=l)return 0;var d=b&&b.charAt(0),e=a.lexical;if(e.type=="stat"&&d=="}")e=e.prev;var f=e.type,g=d==f;if(f=="vardef")return e.indented+4;else if(f=="form"&&d=="{")return e.indented;else if(f=="stat"||f=="form")return e.indented+c;else if(e.info=="switch"&&!g)return e.indented+(/^(?:case|default)\b/.test(b)?c:2*c);else if(e.align)return e.column+(g?0:1);else return e.indented+(g?0:c)},electricChars:":{}"}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true})
